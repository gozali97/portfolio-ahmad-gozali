# Supabase Setup Instructions

To make the portfolio work with dynamic data, please follow these steps:

1.  **Create a Project** at [Supabase.com](https://supabase.com).
2.  **Go to SQL Editor** in your Supabase dashboard.
3.  **Run the following SQL** to create the tables and security policies:

\`\`\`sql
-- Projects Table
create table projects (
  id bigint generated by default as identity primary key,
  title text not null,
  short_description text,
  full_description text,
  image_url text,
  technologies text[], 
  category text, -- 'frontend', 'backend', 'fullstack'
  demo_url text,
  repo_url text,
  is_live boolean default false,
  highlights text[],
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- Tech Stack Table
create table tech_stacks (
  id bigint generated by default as identity primary key,
  name text not null,
  icon_name text, -- Store icon identifier or URL
  category text, -- 'language', 'framework', 'tool'
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- Enable Security
alter table projects enable row level security;
alter table tech_stacks enable row level security;

-- Policies (Public can View, Only Admin can Edit)
create policy "Public projects are viewable by everyone" on projects for select using (true);
create policy "Authenticated users can modify projects" on projects for all using (auth.role() = 'authenticated');

create policy "Public tech_stacks are viewable by everyone" on tech_stacks for select using (true);
create policy "Authenticated users can modify tech_stacks" on tech_stacks for all using (auth.role() = 'authenticated');

-- Storage Bucket for Images
insert into storage.buckets (id, name, public) values ('portfolio-images', 'portfolio-images', true);
create policy "Public Access" on storage.objects for select using ( bucket_id = 'portfolio-images' );
create policy "Auth Upload" on storage.objects for insert using ( bucket_id = 'portfolio-images' and auth.role() = 'authenticated' );
\`\`\`

4.  **Get API Keys:**
    *   Go to Project Settings -> API.
    *   Copy `URL` and `anon` public key.

5.  **Update .env:**
    *   Create a `.env` file in the root of your project.
    *   Add:
        \`\`\`
        REACT_APP_SUPABASE_URL=your_supabase_url
        REACT_APP_SUPABASE_ANON_KEY=your_supabase_anon_key
        \`\`\`
